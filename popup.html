<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styleForMeters.css">
    <title>Document</title>
</head>
<body class="popUp">
    <h1 class="headerForPopup">Add Spendings!</h1>
    
    <label for="spendings" style="margin-left: 45%;">Spending Options:</label>
    <select name="options" id="selector">
        <option value="1">Rent</option>
        <option value="2">Shopping</option>
        <option value="3">Insurance</option>
        <option value="4">Food</option>
        <option value="5">Other</option>
    </select>
    <label for="spent" style="margin-left: 45%;">Amount Spent:</label>
   <input class="inputBox "type="number" id="amountAdded">
   <br>
   <button style="margin-left: 50%;" type="submit">Add!</button>
    
</body>


<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
    const firebaseConfig = {
      apiKey: "AIzaSyCDsIup2KaJeQMPL5jvCMzMA7RTpPiPg7o",
      authDomain: "tomotaru-bb27a.firebaseapp.com",
      databaseURL: "https://tomotaru-bb27a-default-rtdb.firebaseio.com",
      projectId: "tomotaru-bb27a",
      storageBucket: "tomotaru-bb27a.appspot.com",
      messagingSenderId: "281838524572",
      appId: "1:281838524572:web:ee113e29d661a9c1a73559",
      measurementId: "G-9HY07GMSFH"
    };
    const app = initializeApp(firebaseConfig);
    import {getDatabase, set, get, update, remove, ref, child}
    from "https://www.gstatic.com/firebasejs/10.14.0/firebase-database.js";
    const db=getDatabase();
    const auth=getAuth();
    import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-auth.js";

    var selector=document.getElementById("selector");
    var amountAdded=document.getElementById("amountAdded");
    function addButton(){
      var user=auth.currentUser;
      console.log(user);
      generate(amountInput.value, titleInput.value, dateInput.value);
      set(ref(db, "User/" + user.displayName + "/GoalSavings/" + titleInput.value),{
        GoalDate: dateInput.value,
        GoalAmount: amountInput.value
    })
    }

    function updateMeter(category, amount, user){
        if(category.value==1){
            var rentMeter=document.getElementById("rentMeter");
            var newVal=rentMeter.value+amount;
            Rent:newVal
        }
        update(ref(db, "User/" + user.displayName + "/GoalSavings/" + category.value),{
        
    })
    }

</script>
</html>